<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>App Laboratorios Colmayor</title>
  <link rel="stylesheet" href="https://bootswatch.com/5/materia/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/estilos.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/layout.css') }}">
  <link rel="icon" href="{{ url_for('static', filename='img/Escudo_Colmayor.png') }}" type="image/x-icon">
</head>

<body>
  <!-- Barra lateral -->
  <div class="sidebar collapsed" id="sidebar">
    <!-- Bot√≥n para retraer y expandir el sidebar -->
    <div class="toggle-btn" id="toggle-btn" onclick="toggleSidebar()">
      <i class="fas fa-bars"></i>
    </div>

    <!-- Siempre visibles -->
    <a href="{{ url_for('home') }}" data-icon="üè†"> Inicio</a>
    
    <!-- Si estamos en /home para administrador-->
    {% if request.path == url_for('home') %}
      {% if current_user.rol == 'admin' %}
        <a href="{{ url_for('indexSalud') }}" data-icon="üë©üèª‚Äç‚öïÔ∏è"> Salud</a>
        <a href="{{ url_for('indexGastronomia') }}" data-icon="üë®üèª‚Äçüç≥"> Gastronom√≠a</a>
        <a href="{{ url_for('indexGastronomia') }}" data-icon="üèÖ"> LACMA</a>
        <a href="{{ url_for('indexGastronomia') }}" data-icon="üë∑üèº‚Äç‚ôÇÔ∏è"> Arquitectura</a>
      {% elif current_user.rol == 'salud' %}
        <a href="{{ url_for('indexSalud') }}" data-icon="üë©üèª‚Äç‚öïÔ∏è"> Salud</a>
      {% elif current_user.rol == 'gastronomia' %}
        <a href="{{ url_for('indexGastronomia') }}" data-icon="üë®üèª‚Äçüç≥"> Gastronom√≠a</a>
      {% elif current_user.rol == 'lacma' %}
        <a href="{{ url_for('indexGastronomia') }}" data-icon="üèÖ"> LACMA</a>
      {% elif current_user.rol == 'arquitectura' %}
        <a href="{{ url_for('indexGastronomia') }}" data-icon="üë∑üèº‚Äç‚ôÇÔ∏è"> Arquitectura</a>
      {% endif %}
    {% endif %}

    <!-- Si estamos en m√≥dulo SALUD -->
    {% if request.path == url_for('indexSalud') %}
      <a href="{{ url_for('agregarNuevoProveedor') }}" data-icon="üöö"> Agregar Proveedor</a>
      <a id="toggleFormBtn" class="btn-indexSalud" data-icon="‚ûï"> Agregar Equipo Manual</a>
      <a href="{{ url_for('equiposDeBajaSalud') }}" data-icon="üóëÔ∏è"> Equipos de Baja</a>
      <a href="{{ url_for('exportCsv') }}" data-icon="üìÑ"> Exportar Equipos Activos</a>
      <a href="{{ url_for('exportCsvDeBaja') }}" data-icon="üìÇ"> Exportar Equipos De Baja</a>
    {% elif request.path == url_for('agregarNuevoProveedor') %}
      <a href="{{ url_for('indexSalud') }}" data-icon="üë®üèª‚Äçüç≥"> Salud</a>
    {% elif request.path == url_for('equiposDeBajaSalud') %}
      <a href="{{ url_for('indexSalud') }}" data-icon="üë®üèª‚Äçüç≥"> Salud</a> 
    {% endif %}
    
    <a class="navbar-brand"></a>
    
    <!-- Cerrar sesi√≥n -->
    <a href="{{ url_for('logout') }}" data-icon="üîí" class="logout"> Cerrar Sesi√≥n</a>
  </div>

  <!-- Contenido principal -->
  <div class="content" id="content">
    <div class="container-layout">
      {% block body %}
      {% endblock %}
    </div>
  </div>

  <!-- JavaScript para el colapso del sidebar -->
  <script>
    // JavaScript para el colapso del sidebar
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('expanded'); // Alterna la clase expanded
    }

    // A√±adir evento para expandir el sidebar al pasar el mouse
    const sidebar = document.getElementById("sidebar");
    sidebar.addEventListener("mouseenter", () => {
        sidebar.classList.add("expanded"); // Expande al hacer hover
    });

    sidebar.addEventListener("mouseleave", () => {
        sidebar.classList.remove("expanded"); // Colapsa al salir
    });

    // Mostrar el texto de los enlaces al expandir
    sidebar.addEventListener("mouseenter", () => {
        const links = sidebar.querySelectorAll('a');
        links.forEach(link => link.classList.add('visible')); // A√±ade clase para mostrar texto
    });

    sidebar.addEventListener("mouseleave", () => {
        const links = sidebar.querySelectorAll('a');
        links.forEach(link => link.classList.remove('visible')); // Remueve clase para ocultar texto
    });

  </script>

  <script type="text/javascript" src="{{url_for('static', filename='js/main.js')}}"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
    integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
    crossorigin="anonymous"></script>
</body>

</html>
